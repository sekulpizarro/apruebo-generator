import React, { useEffect } from "react";
import * as css from "./styles.module.css";

import { comunas } from "../../assets/comunas";

const colores = {
  azul: "#1a7fd3",
  rojo: "#f64752",
  blanco: "#ffffff",
  gris: "#dad1e2",
};

const variantes = {
  "Niño y abuela": (
    <>
      <path
        d="M366.432 390.965C366.432 394.921 366.256 398.923 366.432 402.873C367.124 418.45 391.749 418.966 402.522 417.163C409.605 415.977 429.517 414.161 432.384 405.255C434.43 398.895 428.763 392.265 422.308 392.797C403.996 394.308 412.646 428.342 418.644 436.765C421.561 440.861 446.989 464.813 451.986 451.421C455.359 442.381 437.087 427.034 433.116 436.215C429.581 444.392 442.132 463.401 449.788 454.169C458.545 443.609 434.103 435.438 427.712 434.933C422.755 434.542 419.071 437.426 422.399 442.627C428.457 452.092 441.344 457.745 451.528 461.222C453.403 461.862 472.243 467.401 470.306 459.299C467.976 449.556 448.364 442.307 439.712 441.895C424.003 441.147 409.318 456.862 422.857 469.649C424.558 471.256 433.88 477.052 434.765 471.298C435.759 464.836 424.027 460.505 419.926 458.932C414.787 456.961 405.128 453.02 402.431 460.489C400.767 465.097 402.444 468.857 406.095 471.664C408.368 473.413 417.906 477.94 412.415 471.664C411.516 470.637 400.978 463.336 402.889 467.634C404.369 470.964 410.797 472.504 402.705 468.458"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M607.156 423.941C601.807 425.13 602.393 441.069 602.393 445.009C602.393 458.933 616.492 434.278 612.652 426.323C610.545 421.959 602.577 422.017 599.095 424.124C592.084 428.368 592.445 441.645 593.507 448.49C595.991 464.492 635.542 486.11 640.406 462.871C641.106 459.529 640.436 454.146 635.643 456.001C627.278 459.239 623.394 470.098 624.377 478.351C625.427 487.175 646.368 521.468 657.536 505.648C664.847 495.29 649.029 482.524 639.216 487.053C626.85 492.76 654.081 514.524 652.589 509.861C650.07 501.989 629.059 488.241 632.071 495.938C633.464 499.5 640.344 500.796 643.429 501.434C652.501 503.311 658.052 501.174 661.749 492C666.22 480.905 659.971 475.33 650.299 470.748C647.077 469.222 634.049 464.665 640.864 473.038C652.559 487.405 655.048 463.878 654.971 456.367C654.917 451.143 653.918 446.784 651.673 442.078C648.144 434.679 650.804 440.768 653.963 444.093C666.025 456.789 683.657 468.753 699.855 475.695C702.809 476.961 694.079 485.871 693.259 489.893C692.333 494.439 692.564 499.128 694.542 503.083"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M724.22 516.273C711.851 516.273 703.562 516.045 700.221 501.801C698.515 494.527 695.249 450.452 679.703 468.825C676.11 473.07 672.911 488.37 671.092 483.114C669.071 477.274 669.932 471.021 667.337 465.252C664.688 459.366 667.533 458.224 669.077 452.337C671.815 441.898 664.334 434.407 658.268 427.239"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M425.789 407.453C421.099 407.453 435.487 407.472 439.712 405.438C443.929 403.408 447.542 401.049 449.605 396.736C450.969 393.882 451.271 390.208 453.085 394.354C457.57 404.605 468.095 401.316 475.71 395.912C483.443 390.424 482.9 387.123 483.496 397.56C484 406.365 499.907 404.188 502.549 397.194C503.403 394.934 502.892 386.32 498.61 390.049C493.311 394.665 482.075 413.622 492.565 417.896C502.86 422.09 507.378 413.99 496.32 408.461C486.337 403.469 452.55 400.858 463.711 400.858"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M437.33 224.437C439.669 224.73 438.808 228.135 440.261 229.75C446.514 236.697 449.185 253.391 451.162 262.176C452.129 266.477 452.515 270.876 453.452 275.183C454.611 280.516 447.496 266.028 444.841 261.26C439.286 251.282 432.671 242.785 424.873 234.422C424.132 233.627 405.937 213.84 412.782 225.628C420.524 238.962 429.99 252.453 434.765 267.214C435.665 269.993 438.404 276.233 434.949 270.237C429.322 260.474 423.78 250.206 416.629 241.475C411.303 234.972 400.947 224.563 391.256 226.178C380.265 228.01 410.23 265.019 401.606 257.963C393.345 251.203 384.493 243.298 374.31 239.643C373.233 239.256 363.862 235.584 363.318 237.353C362.109 241.283 362.864 247.744 364.051 251.642C368.214 265.322 359.734 251.52 355.074 246.421C353.12 244.283 330.688 217.535 325.396 222.239C317.064 229.644 326.545 252.866 331.808 260.344C333.902 263.32 334.576 259.999 334.006 257.963C332.194 251.491 327.812 245.492 322.831 241.108C301.333 222.191 307.771 253.486 315.961 255.306C318.332 255.833 314.849 245.472 314.587 244.956C311.949 239.755 306.805 234.572 300.755 238.269C292.223 243.483 300.466 259.985 296.45 261.993C293.85 263.293 289.259 260.003 287.107 259.062C280.407 256.131 271.915 253.9 264.574 255.123C259.373 255.99 255.542 259.982 253.032 264.375C252.312 265.635 247.813 279.653 248.452 279.397C254.259 277.074 246.667 269.077 244.788 278.847C241.854 294.103 254.171 308.64 268.97 297.717C271.759 295.659 291.863 275.762 279.229 284.893C261.55 297.671 244.878 311.898 228.117 325.838C213.179 338.262 197.103 350.107 184.332 364.859C171.555 379.619 189.611 370.426 196.24 366.6C209.057 359.203 221.804 350.785 233.43 341.593C234.994 340.357 242.788 331.634 245.338 332.708C248.258 333.938 246.006 354.743 246.07 357.073C246.096 357.983 249.116 379.112 253.307 373.195C259.077 365.049 259.166 350.991 263.474 341.685C266.893 334.301 271.462 327.545 275.382 320.434C285.356 302.342 258.693 331.035 258.162 331.609C239.538 351.714 222.604 373.431 209.522 397.56C204.593 406.653 197.284 419.488 197.798 430.261C197.864 431.659 207.146 416.871 207.782 418.079C210.023 422.338 209.547 427.944 211.904 432.46C215.381 439.124 221.03 448.78 227.842 452.612C231.19 454.495 233.256 456.397 234.529 460.214"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M686.298 285.443C684.139 283.524 682.385 283.943 679.702 283.794C672.355 283.386 662.329 271.041 657.535 266.482C646.76 256.232 636.652 245.138 629.597 231.949C623.254 220.09 624.697 213.783 639.032 213.629C640.879 213.609 657.838 214.37 656.253 219.125C656.157 219.413 657.97 217.962 659.001 217.842C673.965 216.107 691.756 226.175 705.35 231.216C706.985 231.822 735.612 241.259 728.8 232.681C726.786 230.145 712.154 224.377 715.701 228.743C719.894 233.903 748.631 260.711 756.463 250.268C759.372 246.39 755.158 240.8 753.074 237.719C751.16 234.891 743.705 229.384 747.12 229.384C751.896 229.384 758.387 234.081 762.325 235.796C772.943 240.42 785.514 246.492 797.316 247.154C803.522 247.502 806.951 240.843 805.194 235.246C802.282 225.973 780.115 231.425 778.538 239.551C776.281 251.187 792.761 264.811 800.705 270.512C808.069 275.797 817.594 280.57 826.72 281.687C829.976 282.086 836.191 281.847 834.78 276.832C832.21 267.694 819.289 263.606 811.239 261.81C806.609 260.777 800.871 260.667 797.499 264.741C789.455 274.461 802.785 288.262 809.499 293.87C817.771 300.779 828.417 306.607 839.086 308.709C843.163 309.512 853.257 307.625 845.498 303.213C835.795 297.696 825.476 300.543 834.139 312.556C842.886 324.685 879.743 351.232 867.939 342.051C856.378 333.059 855.811 349.31 858.688 356.432C863.071 367.286 869.891 382.587 870.229 394.446C870.329 397.938 865.685 389.079 864.001 386.019C858.485 376.001 853.735 364.753 846.78 355.608C844.801 353.006 839.268 345.367 836.338 351.394C828.236 368.056 830.252 392.123 830.658 410.018C830.967 423.592 831.529 437.199 833.132 450.688C833.194 451.212 836.52 475.661 837.62 462.779C838.215 455.812 836.556 449.051 833.956 442.627C833.068 440.433 825.763 423.526 822.598 432.735C818.857 443.616 821.427 464.283 831.025 471.481C834.587 474.153 834.017 470.081 830.933 468.642C824.009 465.41 816.133 468.269 810.323 472.489C801.539 478.869 795.536 490.573 795.118 501.434C794.774 510.368 794.971 494.137 791.637 491.358C784.831 485.686 779.984 512.429 781.195 517.098C784.285 529.018 791.877 516.025 785.408 509.678C776.244 500.687 768.68 505.649 767.088 515.999C766.055 522.715 761.683 515.105 758.844 512.976"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M608.804 329.96C613.236 329.96 645.345 328.256 638.299 340.586C637.393 342.172 612.726 333.258 607.522 333.258C601.435 333.258 593.373 331.792 604.591 331.792C610.712 331.792 607.641 339.853 613.751 339.853C616.463 339.853 618.486 338.767 621.079 338.296C621.628 338.196 624.925 336.918 624.926 336.922C626.078 340.377 604.443 345.201 599.919 340.677C599.079 339.837 609.543 339.853 610.362 339.853C615.339 339.853 620.315 339.853 625.292 339.853"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M447.223 300.282C453.237 300.282 486.86 294.626 485.053 302.755C483.152 311.31 450.156 292.483 444.292 298.999C436.795 307.329 457.109 313.157 461.238 313.38C467.131 313.699 472.433 313.26 478.183 312.19C480.371 311.783 485.211 311.823 480.107 311.823C473.619 311.823 462.991 310.008 457.116 307.243C455.436 306.453 458.254 306.289 458.673 304.404C459.163 302.196 457.041 301.331 455.467 300.282"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M737.41 339.853C747.911 339.853 751.617 346.414 754.814 356.341C761.296 376.469 755.163 404.346 734.113 412.766C727.035 415.597 719.583 403.437 719.274 397.56C718.912 390.697 720.762 389.556 724.22 384.37"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M316.969 334.906C298.589 343.177 284.121 352.889 278.497 373.928C273.709 391.838 283.482 407.086 303.412 400.858C319.056 395.969 314.261 371.18 298.832 371.18"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
    </>
  ),
  "Abuela y niño": (
    <>
      <path
        d="M429.924 174.974C431.176 193.747 442.28 218.663 430.382 235.796C413.619 259.934 373.69 259.255 348.767 251.368C334.709 246.919 326.554 238.124 323.119 224.071C322.075 219.799 320.282 217.236 315.974 221.14C303.574 232.377 304.869 254.683 308.097 269.138C312.977 290.992 324.247 318.786 345.103 330.326C365.016 341.346 405.761 338.649 422.688 323.09C429.459 316.866 429.862 310.349 429.191 301.747C427.372 278.422 409.407 263.282 389.987 252.284C367.596 239.603 333.559 227.48 308.28 223.155C289.207 219.892 256.224 217.054 245.443 239.002C231.55 267.283 296.402 281.226 313.226 270.42C328.176 260.818 310.981 244.033 302.051 238.818C279.648 225.735 250.358 221.827 226.573 233.597C208.674 242.455 193.091 258.903 196.895 280.496C202.04 309.7 233.247 340.72 264.862 331.334C289.619 323.984 281.536 291.795 269.259 277.015C259.58 265.364 239.521 269.302 230.512 280.038C219.914 292.669 218.661 314.728 223.092 329.96C227.074 343.648 240.704 351.048 253.137 355.791C259.362 358.165 246.957 355.324 243.061 356.982C234.281 360.718 230.537 371.706 232.619 380.523C234.305 387.665 239.674 397.055 247.824 398.11C257.726 399.391 253.716 387.176 248.649 384.095C225.445 369.991 188.735 413.773 216.131 428.338C224.699 432.893 240.402 436.203 248.74 429.254C256.951 422.412 245.158 414.281 239.214 412.583C231.203 410.294 222.491 421.959 230.42 423.941"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M764.629 237.628C764.629 233.874 765.068 229.806 764.537 226.086C762.919 214.759 740.781 238.257 739.164 240.009C732.344 247.398 729.493 257.192 727.806 266.94C727.229 270.274 725.856 281.197 727.622 284.893C733.667 297.54 758.558 297.12 768.751 297.625C789.916 298.675 814.277 298.882 831.954 285.351C843.076 276.838 848.892 259.916 842.855 246.421C834.228 227.139 790.578 255.632 804.932 278.298C812.639 290.467 865.493 293.577 859.343 279.58C856.274 272.597 842.504 274.098 837.176 275.733C814.671 282.638 805.706 308.284 808.596 329.777C811.544 351.689 826.011 362.461 846.885 364.768C852.501 365.388 865.586 366.104 867.129 358.081C868.111 352.97 862.014 354.028 859.251 355.241C849.895 359.349 844.331 369.717 841.572 379.057C838.942 387.965 837.254 419.841 855.037 414.506C868.685 410.412 846.302 392.437 836.443 395.362C813.526 402.161 823.887 445.631 844.045 431.819C854.051 424.963 842.609 415.208 836.26 412.033C822.751 405.279 803.626 402.808 791.009 412.949C780.346 421.52 774.895 437.523 778.002 450.871C781.172 464.486 798.812 468.298 810.703 466.168C830.056 462.702 811.506 442.114 803.65 455.451C798.466 464.252 804.32 469.725 812.444 471.756"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M387.056 418.995C387.056 415.162 387.667 419.502 388.155 421.01C392.367 434.03 411.224 442.564 422.047 448.673C436.47 456.815 460.567 467.593 474.808 453.986C483.357 445.817 494.227 436.712 494.227 423.941"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
      <path
        d="M575.018 433.834C578.97 453.592 621.43 459.918 636.023 457.833C661.07 454.255 676.474 437.607 690.433 418.995"
        stroke="black"
        stroke-width="3"
        stroke-linecap="round"
      />
    </>
  ),
};

export const handler = ({ inputs, mechanic }) => {
  const { width, height, persona, comuna } = inputs;

  useEffect(() => {
    mechanic.done();
  }, []);

  return (
    <svg width={width} height={height} className={css.root}>
      <svg
        width={width}
        viewBox="0 0 1080 1080"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle cx="368.478" cy="373.196" r="151.64" fill={colores.azul} />
        <circle cx="713.198" cy="373.196" r="151.64" fill={colores.blanco} />
        <path
          fill={colores.rojo}
          d="M368.478 858.445C284.729 858.445 216.838 790.55 216.838 706.804C216.838 623.059 284.729 555.164 368.478 555.164H713.197C796.946 555.164 864.838 623.059 864.838 706.804C864.838 790.55 796.946 858.445 713.197 858.445H368.478Z"
        />
        {variantes[persona]}
      </svg>
      {comuna == "comuna" ? (
        <text
          x={width / 2}
          y={height / 2}
          textAnchor="middle"
          className={css.elije}
          fill={colores.azul}
          style={{ fontSize: width / 9 }}
        >
          Elije tu comuna!
        </text>
      ) : (
        <text
          x={width / 2}
          y={height - height / 8}
          textAnchor="middle"
          className={css.comuna}
        >
          {comuna}
        </text>
      )}
      <text
        x={width / 2}
        y={height - height / 16}
        textAnchor="middle"
        className={css.aprueba}
        style={{ fontSize: width / 13 }}
      >
        #AprUebaFeliz
      </text>
    </svg>
  );
};

export const inputs = {
  width: {
    type: "number",
    default: 1080,
  },
  height: {
    type: "number",
    default: 1080,
  },
  comuna: {
    type: "text",
    default: "comuna",
    options: ["comuna", ...comunas],
    label: "Tu comuna",
  },

  persona: {
    type: "text",
    default: "Abuela y niño",
    options: ["Abuela y niño", "Niño y abuela"],
    label: "Personaliza",
  },
};

export const settings = {
  engine: require("@mechanic-design/engine-react"),
  showMultipleExports: true,
};
