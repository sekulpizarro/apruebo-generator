import React, { useEffect } from "react";
import * as css from "./styles.module.css";

import { comunas } from "../../assets/comunas";

import a from "../../assets/caras/a";

import b from "../../assets/caras/b";



const colores = {
  azul: "#1a7fd3",
  negro: "#1d1d1b",
  rojo: "#f64752",
  blanco: "#ffffff",
  gris: "#dad1e2"
};



export const handler = ({ inputs, mechanic }) => {
  const { width, height, apruebista1, apruebista2, comuna } = inputs;

  useEffect(() => {
    mechanic.done();
  }, []);

  return (
    <svg width={width} height={height} className={css.root}>
      <svg
        width={width}
        viewBox="0 0 1080 1080"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
      <path d="M371.42 423.98C455.583 423.98 523.81 355.753 523.81 271.59C523.81 187.427 455.583 119.2 371.42 119.2C287.257 119.2 219.03 187.427 219.03 271.59C219.03 355.753 287.257 423.98 371.42 423.98Z" fill="#1A7FD3"/>
      <path d="M708.58 423.98C792.743 423.98 860.97 355.753 860.97 271.59C860.97 187.427 792.743 119.2 708.58 119.2C624.417 119.2 556.19 187.427 556.19 271.59C556.19 355.753 624.417 423.98 708.58 423.98Z" fill="white"/>
      <path d="M708.58 456.36C699.08 456.36 424.51 456.36 371.41 456.36C287.25 456.36 219.02 524.59 219.02 608.75C219.02 692.91 287.25 761.14 371.41 761.14H708.58C792.74 761.14 860.97 692.91 860.97 608.75C860.97 524.59 792.74 456.36 708.58 456.36Z" fill="#F64752"/>
      <path d="M776.65 627L875.37 612.41L877.43 632.3L777.8 638.16L776.65 627Z" fill="#1D1D1B"/>
      <path d="M869.42 675.19L769.99 682.9L768.25 666.05L867.16 653.31L869.42 675.19Z" fill="#1D1D1B"/>
      <path d="M747.42 705.83L846.23 692.01L848.28 711.91L748.73 718.53L747.42 705.83Z" fill="#1D1D1B"/>
      <path d="M212.46 551.3L313.82 545.01L314.94 555.06L214.67 571.18L212.46 551.3Z" fill="#1D1D1B"/>
      <path d="M206.9 587.04L293.6 585.26L294.39 595.35L208.45 606.98L206.9 587.04Z" fill="#1D1D1B"/>
      <path d="M871.83 563.16L782.91 575.4L784.39 571.76L788.4 561.92L789.4 559.46L789.9 558.23L790.15 557.61L790.44 556.8C790.82 555.72 791.23 554.64 791.56 553.54L792.41 550.19C794.3 541.15 793.2 531.55 789.36 523.17C785.5 514.8 778.86 507.74 770.8 503.3L758.51 505.46L732.94 533.95L720.15 548.2L713.76 555.32L710.56 558.88L709.76 559.77L709.03 560.55L707.59 562.08C703.71 566.12 699.32 569.66 694.65 572.73C689.97 575.78 684.97 578.37 679.73 580.3C674.5 582.25 669.07 583.64 663.55 584.43C662.16 584.62 660.8 584.74 659.38 584.91L654.61 585.33L645.07 586.17L492.51 599.56L187.38 626.34L190.19 655.77L494.86 624.23L647.2 608.46L656.72 607.47L661.48 606.98C663.22 606.76 665.04 606.56 666.81 606.28C673.91 605.15 680.89 603.26 687.57 600.64C700.93 595.39 713.09 587.15 722.9 576.73L724.71 574.75L725.59 573.77L726.38 572.87L729.52 569.26L735.8 562.04L748.36 547.6L767.34 525.78C768.89 527.5 770.2 529.43 771.18 531.55C773.24 536.08 773.81 541.23 772.82 546.07C772.66 546.67 772.51 547.27 772.37 547.87C772.18 548.46 771.95 549.04 771.75 549.63L771.6 550.07L771.35 550.68L770.85 551.91L769.85 554.37L765.84 564.21L757.81 583.89L751.27 599.94L768.44 597.58L874.52 582.98L871.79 563.17L871.83 563.16Z" fill="#1D1D1B"/>
      <path d="M307.17 522.68L311.84 522.31L314.18 522.13C315 522.06 315.61 522.04 316.77 521.88C320.96 521.41 325.12 520.12 328.85 518.04C336.35 513.91 342.1 506.78 344.55 498.48C345.79 494.34 346.2 489.93 345.77 485.63L345.57 484.02L345.46 483.22L345.36 482.62L344.97 480.31L344.19 475.69L342.62 466.39L349.86 464.45L375.53 511.26L400.34 494.93L363.17 447.27L358.6 441.4L352.24 443.1L328.66 449.41L319.48 451.87L321.42 460.95L325.34 479.29L326.32 483.87L326.81 486.16L326.93 486.72L326.98 487.08L327.1 487.79C327.38 489.69 327.3 491.62 326.85 493.49C325.96 497.24 323.47 500.7 320.11 502.78C318.43 503.83 316.53 504.51 314.53 504.84C314.16 504.95 313.21 505.04 312.47 505.13L310.14 505.41L305.49 505.98L231.05 515.06L232.4 528.56L307.17 522.68V522.68Z" fill="#1D1D1B"/>
      <path d="M266.88 928.43L265.12 939.07H281.12L282.88 928.43H291.76L290 939.07H298.72V948.99H288.32L285.36 966.75H293.52V976.75H283.68L281.92 987.31H273.04L274.8 976.75H258.8L257.04 987.31H248.16L249.92 976.75H241.2V966.75H251.6L254.56 948.99H246.32V939.07H256.24L258 928.43H266.88V928.43ZM276.48 966.75L279.44 948.99H263.44L260.48 966.75H276.48Z" fill="#DAD1E2"/>
      <path d="M315.76 928.43H346.24L358.96 987.31H348.88L345.76 972.35H316.24L313.12 987.31H303.04L315.76 928.43V928.43ZM343.52 961.23L339.04 939.55H323.04L318.56 961.23H343.52V961.23Z" fill="#DAD1E2"/>
      <path d="M375.52 940.83V959.47H376.16C377.28 948.27 383.52 939.79 394.96 939.79C407.04 939.79 414.56 949.31 414.56 964.03C414.56 978.75 407.04 988.35 394.96 988.35C383.6 988.35 377.36 980.03 376.16 969.07H375.52V1002.19H366.32V940.83H375.52V940.83ZM392.72 977.55C400.72 977.55 405.36 971.95 405.36 964.03C405.36 956.11 400.72 950.59 392.72 950.59C384.72 950.59 380 956.11 380 964.03C380 971.95 384.64 977.55 392.72 977.55Z" fill="#DAD1E2"/>
      <path d="M447.52 940.83V951.79L431.84 951.47V987.31H422.48V940.83H447.52Z" fill="#DAD1E2"/>
      <path d="M476.8 987.95C462.48 987.95 454.8 980.67 454.8 967.07V940.83H464.24V965.71C464.24 972.67 469.04 976.67 476.8 976.67C484.56 976.67 489.36 972.67 489.36 965.71V940.83H498.8V967.07C498.8 980.67 491.12 987.95 476.8 987.95Z" fill="#DAD1E2"/>
      <path d="M507.28 963.79C507.28 949.95 515.36 939.79 529.68 939.79C542.56 939.79 550.16 948.03 550.16 962.11V966.27H516.8C517.84 973.23 523.12 977.71 532.88 977.71C539.6 977.71 544.96 975.63 547.68 973.31V984.19C544 986.75 537.84 988.35 531.6 988.35C515.92 988.35 507.28 978.27 507.28 963.79V963.79ZM540.88 960.99C540.16 953.95 535.92 950.59 529.2 950.59C521.92 950.59 517.6 954.59 516.72 960.99H540.88Z" fill="#DAD1E2"/>
      <path d="M558.08 924.43H567.28V959.47H567.92C569.04 948.27 575.28 939.79 586.72 939.79C598.8 939.79 606.32 949.31 606.32 964.03C606.32 978.75 598.8 988.35 586.72 988.35C575.36 988.35 569.12 980.03 567.92 969.07H567.28V987.31H558.08V924.43V924.43ZM584.48 977.55C592.48 977.55 597.12 971.95 597.12 964.03C597.12 956.11 592.48 950.59 584.48 950.59C576.48 950.59 571.76 956.11 571.76 964.03C571.76 971.95 576.4 977.55 584.48 977.55Z" fill="#DAD1E2"/>
      <path d="M626.48 960.35C635.12 960.35 640.16 965.15 641.04 971.95H641.52V951.63L612.8 951.15V940.83H650.72V987.31H641.52V976.27H641.04C640.16 983.15 634.96 988.11 626.56 988.11C617.52 988.11 612.16 982.35 612.16 974.19C612.16 966.03 617.36 960.35 626.48 960.35V960.35ZM629.44 981.47C634.08 981.47 637.2 978.59 637.2 974.19C637.2 969.79 634.08 966.67 629.44 966.67C624.8 966.67 621.76 969.79 621.76 974.19C621.76 978.59 624.8 981.47 629.44 981.47Z" fill="#DAD1E2"/>
      <path d="M663.92 928.43H705.68V939.55H673.6V954.35H704V963.15H673.6V987.31H663.92V928.43V928.43Z" fill="#DAD1E2"/>
      <path d="M711.2 963.79C711.2 949.95 719.28 939.79 733.6 939.79C746.48 939.79 754.08 948.03 754.08 962.11V966.27H720.72C721.76 973.23 727.04 977.71 736.8 977.71C743.52 977.71 748.88 975.63 751.6 973.31V984.19C747.92 986.75 741.76 988.35 735.52 988.35C719.84 988.35 711.2 978.27 711.2 963.79V963.79ZM744.8 960.99C744.08 953.95 739.84 950.59 733.12 950.59C725.84 950.59 721.52 954.59 720.64 960.99H744.8Z" fill="#DAD1E2"/>
      <path d="M770.16 924.43V987.31H760.96V924.43H770.16Z" fill="#DAD1E2"/>
      <path d="M784.88 924.59C790 924.59 792 926.91 792 930.43C792 933.95 790 936.19 784.88 936.19C779.76 936.19 777.68 933.87 777.68 930.43C777.68 926.99 779.76 924.59 784.88 924.59ZM789.52 940.83V987.31H780.32V940.83H789.52Z" fill="#DAD1E2"/>
      <path d="M797.68 940.83H838.8V959.07L808.4 972.83V976.67L838.08 976.83V987.31H799.28V968.67L829.68 954.99V951.47L797.68 951.31V940.83V940.83Z" fill="#DAD1E2"/>
        {a[apruebista1]}
        {b[apruebista2]}
      </svg>
      {comuna == "comuna" ? (
        <text
          x={width/2}
          y={4.08*height/5}
          textAnchor="middle"
          className={css.comuna}
          fill={colores.blanco}
          style={{ fontSize: width / 12 }}
        >
          Elige tu comuna
        </text>
      ) : (
        <text
          x={width/2}
          y={4.08*height/5}
          textAnchor="middle"
          className={css.comuna}
          style={{ fontSize: width / 12 }}
        >
          {comuna}
        </text>
      )}

    </svg>
  );
};

export const inputs = {
  width: {
    type: "number",
    default: 1080,
  },
  height: {
    type: "number",
    default: 1080,
  },
  comuna: {
    type: "text",
    default: "comuna",
    options: ["comuna", ...comunas],
    label: "Tu comuna",
  },

  apruebista1: {
    type: "text",
    default: Object.keys(a)[0],
    options: Object.keys(a),
    label: "Apruebista 1",
  },

  apruebista2: {
    type: "text",
    default: Object.keys(b)[0],
    options: Object.keys(b),
    label: "Apruebista 2",
  },
};

export const settings = {
  engine: require("@mechanic-design/engine-react"),
  showMultipleExports: false,
};
